{"ast":null,"code":"import react from 'react';\nimport { legacy_createStore } from 'redux';\nimport { useSelector } from 'react-redux';\nconst init_State = {\n  items: [],\n  total: 0\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : init_State;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'add':\n      let av = false;\n      state.items.forEach(ee => ee === action.payload.e && (av = true));\n\n      if (!av) {\n        return { ...state,\n          items: [...state.items, action.payload.e]\n        };\n      } else return state;\n\n    case 'delete':\n      return { ...state,\n        items: state.items.filter(ee => ee !== action.payload.e)\n      };\n\n    case 'increment':\n      if (action.payload.e.qt < 10) {\n        let T = state.items;\n        const obj = action.payload.e;\n        const index = state.items.findIndex(ee => ee === obj);\n        obj.qt = obj.qt + 1;\n        obj.total = obj.price * obj.qt;\n        T.splice(index, 1, obj);\n        return { ...state,\n          items: [...T]\n        };\n      } else return state;\n\n    case 'decrement':\n      if (action.payload.e.qt > 1) {\n        let T = state.items;\n        const obj = action.payload.e;\n        const index = state.items.findIndex(ee => ee === obj);\n        obj.qt = obj.qt - 1;\n        obj.total = obj.price * obj.qt;\n        T.splice(index, 1, obj);\n        return { ...state,\n          items: [...T]\n        };\n      } else return state;\n\n    case 'total':\n      const sum = state.items.reduce((total, e) => total + e.total, 0);\n      return { ...state,\n        total: sum\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = legacy_createStore(reducer);\nexport default store;","map":{"version":3,"names":["react","legacy_createStore","useSelector","init_State","items","total","reducer","state","action","type","av","forEach","ee","payload","e","filter","qt","T","obj","index","findIndex","price","splice","sum","reduce","store"],"sources":["C:/Badr PC/Dev/1 - ISTA/2eA/(M204) front-end/projects/P3 SHOES/src/Store/store.js"],"sourcesContent":["import react from 'react';\r\nimport { legacy_createStore } from 'redux';\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst init_State = {\r\n    items: [],\r\n    total:0\r\n}\r\nconst reducer=(state = init_State , action)=>{\r\n    switch (action.type){\r\n        case 'add':\r\n            let av = false;\r\n            state.items.forEach(ee=>ee===action.payload.e&&(av=true))\r\n            if(!av){\r\n                return {...state,items:[...state.items,action.payload.e]}\r\n            }else return state\r\n            \r\n        case 'delete':\r\n            return {...state,items:state.items.filter(ee=>ee!==action.payload.e)}\r\n            \r\n        case 'increment':\r\n            if(action.payload.e.qt<10){\r\n                let T = state.items\r\n                const obj = action.payload.e\r\n                const index = state.items.findIndex(ee=>ee===obj)\r\n                obj.qt=obj.qt+1\r\n                obj.total=obj.price*obj.qt\r\n                T.splice(index,1,obj)\r\n                return {...state,items:[...T]}\r\n            }else return state\r\n\r\n        case 'decrement':\r\n            if(action.payload.e.qt>1){\r\n                let T = state.items\r\n                const obj = action.payload.e\r\n                const index = state.items.findIndex(ee=>ee===obj)\r\n                obj.qt=obj.qt-1\r\n                obj.total=obj.price*obj.qt\r\n                T.splice(index,1,obj)\r\n                return {...state,items:[...T]}\r\n            }else return state\r\n        \r\n        case 'total':\r\n            const sum = state.items.reduce((total,e)=>total+e.total,0)\r\n            return {...state,total:sum}\r\n        \r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\nconst store = legacy_createStore(reducer)\r\nexport default store;"],"mappings":"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"},"metadata":{},"sourceType":"module"}